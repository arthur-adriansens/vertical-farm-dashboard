---
import "../styles/global.css";
import Layout from "../layouts/Layout.astro";

import Page from "../app/dashboard/power-usage";

import defaultData from "../app/dashboard/data.json";
import { sql } from "../lib/neon";

const powerdata = (await sql`SELECT * FROM powerdata`) || defaultData;
---

<Layout title="Power Usage Dashboard">
    <Page client:load="react" powerdata={powerdata} />

    <style is:inline>
        .dark #fixScrollbar {
            color-scheme: dark;
        }

        #fixScrollbar {
            color-scheme: light;
        }
    </style>
</Layout>
